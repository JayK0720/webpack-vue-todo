(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{47:function(t,e,o){},48:function(t,e,o){},49:function(t,e,o){},52:function(t,e,o){"use strict";var n=o(47);o.n(n).a},53:function(t,e,o){"use strict";var n=o(48);o.n(n).a},54:function(t,e,o){"use strict";var n=o(49);o.n(n).a},57:function(t,e,o){"use strict";o.r(e);var n={props:{todo:{type:Object,required:!0}},methods:{deleteTodo:function(t){this.$emit("del",t)},toggleTodo:function(t){t.preventDefault(),this.$emit("toggle",this.todo)}}},r=(o(52),o(2)),i=Object(r.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("li",{class:["todo-item",t.todo.completed?"completed":""]},[o("div",{staticClass:"left-content"},[o("input",{staticClass:"toggle-todo",attrs:{type:"checkbox"},domProps:{checked:t.todo.completed},on:{click:t.toggleTodo}}),t._v(" "),o("p",{staticClass:"text"},[o("span",{staticClass:"gesture"},[t._v(t._s(t.todo.completed?"👌":"👋"))]),t._v(" "),o("span",[t._v(t._s(t.todo.text))])])]),t._v(" "),o("span",{staticClass:"delete-btn",on:{click:function(e){return t.deleteTodo(t.todo.id)}}},[t._v("x")])])}),[],!1,null,"7d378149",null).exports,l={props:{filter:{type:String,required:!0},todos:{type:Array}},data:function(){return{states:["all","active","completed"]}},computed:{unFinishedTodoLength:function(){return this.todos.filter((function(t){return!t.completed})).length}},methods:{clearCompleted:function(){this.$emit("clearCompleted")},toggleFilter:function(t){this.$emit("toggle",t)}}},s=(o(53),Object(r.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"footer-wrapper"},[o("span",{staticClass:"left"},[t._v(t._s(t.unFinishedTodoLength)+" items left")]),t._v(" "),o("span",{staticClass:"tabs"},t._l(t.states,(function(e,n){return o("span",{key:n,class:["tab-item",t.filter===e?"active":""],on:{click:function(o){return t.toggleFilter(e)}}},[t._v(t._s(e))])})),0),t._v(" "),o("span",{staticClass:"clear-completed",on:{click:t.clearCompleted}},[t._v("clear-completed")])])}),[],!1,null,"3d8c35c4",null).exports),c=o(3),a=o(5),d=o.n(a),u=o(10);function p(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function f(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?p(Object(o),!0).forEach((function(e){g(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):p(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function g(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var h={metaInfo:{title:"Todo Page"},data:function(){return{filter:"all"}},components:{TodoItem:i,Tabs:s},computed:f(f({},Object(u.d)(["todos"])),{},{filterTodoList:function(){if("all"===this.filter)return this.todos;var t="completed"===this.filter;return this.todos.filter((function(e){return e.completed===t}))}}),created:function(){this.getAllTodos()},methods:f(f(f({},Object(u.b)(["getAllTodos","addTodoAsync","deleteTodoAsync","clearTodoAsync","toggleTodoAsync"])),Object(u.c)(["setUser"])),{},{handleAddTodo:function(t){if(t.target.value.trim()){var e={id:Date.now(),text:t.target.value,completed:!1};this.addTodoAsync(e),t.target.value=""}else Object(c.a)({text:"代办事项不能为空哦！"})},handleDeleteTodo:function(t){this.deleteTodoAsync(t)},toggleFilter:function(t){this.filter=t},clearCompleted:function(){this.clearTodoAsync()},handleToggleTodo:function(t){this.toggleTodoAsync({id:t.id,todo:Object.assign({},t,{completed:!t.completed})})}}),beforeRouteEnter:function(t,e,o){d()({url:"http://localhost:3000/api/user/info",method:"get",withCredentials:!0}).then((function(t){if(0===t.data.code){var e=t.data.data.username;o((function(t){t.setUser(e)}))}else o("/login")}))}},m=(o(54),Object(r.a)(h,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"todo-wrapper"},[o("div",{staticClass:"input-wrapper"},[o("input",{staticClass:"add-input",attrs:{type:"text",placeholder:"what next to do?",autofocus:"true"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleAddTodo(e)}}})]),t._v(" "),t.todos.length?[o("div",{staticClass:"todo-list"},t._l(t.filterTodoList,(function(e,n){return o("todo-item",{key:n,attrs:{todo:e},on:{del:t.handleDeleteTodo,toggle:t.handleToggleTodo}})})),1)]:[o("div",{staticClass:"nothing"},[t._v("\n            👌 nothing to do!!!\n        ")])],t._v(" "),o("tabs",{attrs:{filter:t.filter,todos:t.todos},on:{toggle:t.toggleFilter,clearCompleted:t.clearCompleted}})],2)}),[],!1,null,"85f672c8",null));e.default=m.exports}}]);