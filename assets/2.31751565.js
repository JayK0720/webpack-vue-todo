(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{47:function(t,e,o){},48:function(t,e,o){},49:function(t,e,o){},50:function(t,e,o){},53:function(t,e,o){"use strict";var n=o(47);o.n(n).a},54:function(t,e,o){"use strict";var n=o(48);o.n(n).a},55:function(t,e,o){"use strict";var n=o(49);o.n(n).a},56:function(t,e,o){"use strict";var n=o(50);o.n(n).a},59:function(t,e,o){"use strict";o.r(e);var n={props:{todo:{type:Object,required:!0}},methods:{deleteTodo:function(t){this.$emit("del",t)},toggleTodo:function(t){this.$emit("toggle",this.todo)}}},i=(o(53),o(2)),s=Object(i.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("li",{class:["todo-item",t.todo.completed?"completed":""]},[o("div",{staticClass:"left-content"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.completed,expression:"todo.completed"}],staticClass:"toggle-todo",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.todo.completed)?t._i(t.todo.completed,null)>-1:t.todo.completed},on:{click:t.toggleTodo,change:function(e){var o=t.todo.completed,n=e.target,i=!!n.checked;if(Array.isArray(o)){var s=t._i(o,null);n.checked?s<0&&t.$set(t.todo,"completed",o.concat([null])):s>-1&&t.$set(t.todo,"completed",o.slice(0,s).concat(o.slice(s+1)))}else t.$set(t.todo,"completed",i)}}}),t._v(" "),o("p",{staticClass:"text"},[o("span",{staticClass:"gesture"},[t._v(t._s(t.todo.completed?"👌":"👋"))]),t._v(" "),o("span",[t._v(t._s(t.todo.text))])])]),t._v(" "),o("span",{staticClass:"delete-btn",on:{click:function(e){return t.deleteTodo(t.todo.id)}}},[t._v("x")])])}),[],!1,null,"acd54ba4",null).exports,l={props:{filter:{type:String,required:!0},todos:{type:Array}},data:function(){return{states:["all","active","completed"]}},computed:{unFinishedTodoLength:function(){return this.todos.filter((function(t){return!t.completed})).length}},methods:{clearCompleted:function(){this.$emit("clearCompleted")},toggleFilter:function(t){this.$emit("toggle",t)}}},a=(o(54),Object(i.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"footer-wrapper"},[o("span",{staticClass:"left"},[t._v(t._s(t.unFinishedTodoLength)+" items left")]),t._v(" "),o("span",{staticClass:"tabs"},t._l(t.states,(function(e,n){return o("span",{key:n,class:["tab-item",t.filter===e?"active":""],on:{click:function(o){return t.toggleFilter(e)}}},[t._v(t._s(e))])})),0),t._v(" "),o("span",{staticClass:"clear-completed",on:{click:t.clearCompleted}},[t._v("clear-completed")])])}),[],!1,null,"3d8c35c4",null).exports),r=o(4),c=o(3),d=o.n(c),u={name:"loading"},p=(o(55),Object(i.a)(u,(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loading-container"},[e("div",{staticClass:"loading"},[e("span"),this._v(" "),e("span"),this._v(" "),e("span"),this._v(" "),e("span"),this._v(" "),e("span"),this._v(" "),e("span"),this._v(" "),e("span")])])}],!1,null,"0e1bae78",null).exports),f=o(6);function g(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function h(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?g(Object(o),!0).forEach((function(e){m(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):g(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function m(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var v={metaInfo:{title:"Todo Page"},data:function(){return{filter:"all"}},components:{TodoItem:s,Tabs:a,loading:p},computed:h(h({},Object(f.d)(["todos","loading"])),{},{filterTodoList:function(){if("all"===this.filter)return this.todos;var t="completed"===this.filter;return this.todos.filter((function(e){return e.completed===t}))}}),created:function(){this.getAllTodos()},methods:h(h(h({},Object(f.b)(["getAllTodos","addTodoAsync","deleteTodoAsync","clearTodoAsync","toggleTodoAsync"])),Object(f.c)(["setUser"])),{},{handleAddTodo:function(t){if(t.target.value.trim()){var e={id:Date.now(),text:t.target.value,completed:!1};this.addTodoAsync(e),t.target.value=""}else Object(r.a)({text:"代办事项不能为空哦！"})},handleDeleteTodo:function(t){this.deleteTodoAsync(t)},toggleFilter:function(t){this.filter=t},clearCompleted:function(){this.clearTodoAsync()},handleToggleTodo:function(t){this.toggleTodoAsync({id:t.id,todo:Object.assign({},t,{completed:!t.completed})})}}),beforeRouteEnter:function(t,e,o){d()({url:"http://localhost:3000/api/user/info",method:"get",withCredentials:!0}).then((function(t){if(0===t.data.code){var e=t.data.data.username;o((function(t){t.isLoading=!1,t.setUser(e)}))}else o("/login")}))}},_=(o(56),Object(i.a)(v,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"todo-wrapper"},[o("div",{staticClass:"input-wrapper"},[o("input",{staticClass:"add-input",attrs:{type:"text",placeholder:"what next to do?",autofocus:"true"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleAddTodo(e)}}})]),t._v(" "),t.todos.length?[o("div",{staticClass:"todo-list"},t._l(t.filterTodoList,(function(e,n){return o("todo-item",{key:n,attrs:{todo:e},on:{del:t.handleDeleteTodo,toggle:t.handleToggleTodo}})})),1)]:[o("div",{staticClass:"nothing"},[t._v("\n            👌 nothing to do!!!\n        ")])],t._v(" "),o("tabs",{attrs:{filter:t.filter,todos:t.todos},on:{toggle:t.toggleFilter,clearCompleted:t.clearCompleted}}),t._v(" "),o("loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]})],2)}),[],!1,null,"1cd9a1aa",null));e.default=_.exports}}]);